# GitHub Self-Hosted Runner Configuration
# Copy this file to .env and fill in your values

# ==============================================================================
# GitHub Configuration
# ==============================================================================

# Repository URL (required)
# Format: https://github.com/owner/repo
REPO_URL=https://github.com/your-username/your-repo

# GitHub Personal Access Token (required)
# Scopes required: repo, workflow
# Generate at: https://github.com/settings/tokens
GITHUB_PAT=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================================================
# Runner Configuration
# ==============================================================================

# Runner name (visible in GitHub UI)
RUNNER_NAME=synology-runner

# Runner group (default: "default")
RUNNER_GROUP=default

# Runner labels (comma-separated, no spaces)
# Default includes: self-hosted, Linux, X64
# Add custom labels for targeting specific runners
LABELS=self-hosted,Linux,X64,synology,general

# ==============================================================================
# Resource Limits (adjust based on your hardware)
# ==============================================================================

# CPU cores allocated to runner
# Example: '1.5' = 1.5 cores, '2' = 2 cores
RUNNER_CPUS=1.5

# Memory limit
# Example: '5G' = 5 gigabytes, '8G' = 8 gigabytes
RUNNER_MEMORY=5G

# CPU priority (higher = more priority)
# Default: 1024, High priority: 1536-2048
RUNNER_CPU_SHARES=1536

# ==============================================================================
# Build Tool Configuration
# ==============================================================================

# Gradle JVM options (for Kotlin/Java/Android projects)
# Adjust heap size (-Xmx) based on RUNNER_MEMORY
# Rule of thumb: Heap = 60% of container memory
GRADLE_OPTS=-Xmx3g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:MaxMetaspaceSize=512m

# Gradle worker threads
# Rule of thumb: 1 worker per core (max 4 for small systems)
GRADLE_WORKERS=2

# Maven options (uncomment if using Maven)
# MAVEN_OPTS=-Xmx3g -XX:+UseG1GC

# Node.js memory limit (uncomment if using Node/npm)
# NODE_OPTIONS=--max-old-space-size=3072

# ==============================================================================
# Advanced Settings (usually don't need to change)
# ==============================================================================

# Disable automatic runner updates
# Set to true if you want to control updates manually
DISABLE_AUTO_UPDATE=false

# Docker-in-Docker support
DOCKER_ENABLED=true

# Runner working directory
RUNNER_WORKDIR=/workspace

# ==============================================================================
# Monitoring Configuration (optional)
# ==============================================================================

# Email for alert notifications (if DSM email configured)
ALERT_EMAIL=your-email@example.com

# Monitoring thresholds
MAX_MEMORY_PERCENT=90
MAX_CPU_PERCENT=150
MAX_DISK_PERCENT=80

# ==============================================================================
# Notes
# ==============================================================================

# 1. Never commit .env file to git (add to .gitignore)
# 2. Store GITHUB_PAT securely (consider using 1Password, Bitwarden, etc.)
# 3. PAT should have minimal required scopes (repo + workflow only)
# 4. Test resource limits with: docker stats github-runner
# 5. Monitor first few runs to tune memory/CPU settings
